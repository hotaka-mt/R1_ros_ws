# ロボコン2024Bチーム ロボット1「鶴明」ReadMe
## ロボット構成
### アクチュエータ
* メカナム4輪
* 電磁弁×1(鶴パルト発射用)
* 電磁弁×1(遠鶴探索機発射用)
* MD×1(遠鶴探索機再装填用)
### センサ
* RealeSense(自己位置)
* OTOS(自己位置)
* ロリコン×2（自己位置）
* リミット×4(自己位置)
* リミット×2(遠隔探索機再装填用)
## ROS<->STM通信フォーマット
### ROS -> STM　　
ROSからSTMに送る通信フォーマット
|バイト|動作|M1設定|M2設定|M3設定|M4設定|ロボット設定|バイト|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|1byte|0xA0|0xA1|0xA2|0xA3|0xA4|0xA5|1byte|
|2byte|x方向速度|M1 Pゲイン|M2 Pゲイン|M3 Pゲイン|M4 Pゲイン|タイヤ直径[mm]|2byte|
|3byte|^|^|^|^|^|^|3byte|
|4byte|^|^|^|^|^|^|4byte|
|5byte|^|^|^|^|^|^|5byte|
|6byte|y方向速度|M1 Iゲイン|M2 Iゲイン|M3 Iゲイン|M4 Iゲイン|旋回直径[mm]|6byte|
|7byte|^|^|^|^|^|^|7byte|
|8byte|^|^|^|^|^|^|8byte|
|9byte|^|^|^|^|^|^|9byte|
|10byte|角速度|M1 Dゲイン|M2 Dゲイン|M3 Dゲイン|M4 Dゲイン|ロリコン分解能|10byte|
|11byte|^|^|^|^|^|^|11byte|
|12byte|^|^|^|^|^|^|12byte|
|13byte|^|^|^|^|^|^|13byte|
|14byte|ロボット角度||||||14byte|
|15byte|^||||||15byte|
|16byte|^||||||16byte|
|17byte|^||||||17byte|
|18byte|機構操作||||||18byte|
|19byte|^||||||19byte|
|20byte|^||||||20byte|

##### 機構操作バイトフォーマット
||8ビット|7ビット|6ビット|5ビット|4ビット|3ビット|2ビット|1ビット|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|18Byte||||遠鶴探索機MD正転|遠鶴探索機MD後転|遠鶴探索機電磁弁|鶴パルト電磁弁|MDDリセット|
|19Byte|||||||||
|20Byte|||||||||

### STM -> ROS
STMからROSに送る通信フォーマット
|バイト|内容|
|:--:|:--:|
|1byte|0xA6|
|2byte|x位置[mm]|
|3byte|^|
|4byte|y位置[mm]|
|5byte|^|
|6byte|角度[deg]|
|7byte|^|
|8byte|受信バイト|
|9byte|機構状態|
|10byte|^|
|11byte|^|
|12byte|チェックサム|

##### 機構状態バイトフォーマット
||8ビット|7ビット|6ビット|5ビット|4ビット|3ビット|2ビット|1ビット|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|9Byte|||遠隔探索機上限リミット|遠隔探索機下限リミット|左側面リミット|正面左リミット|正面右リミット|右側面リミット|
|10Byte|||||||||
|11Byte|||||||||
